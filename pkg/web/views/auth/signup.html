<form id="signupForm">
  <input type="text" name="username" id="username" placeholder="Usuario" required><br>
  <input type="password" name="password" id="password" placeholder="ContraseÃ±a" required><br>
  <input type="text" name="first_name" id="first_name" placeholder="Nombres" required><br>
  <input type="text" name="last_name" id="last_name" placeholder="Apellidos" required><br>
  <input type="email" name="email" id="email" placeholder="Correo" required><br>
  <input type="text" name="phone" id="phone" placeholder="TelÃ©fono" required><br>
  <select name="role" id="role">
    <option value="cliente">Cliente</option>
  </select><br><br>
  <button type="submit">Registrarse</button>
</form>
<script>
  document.getElementById("signupForm").addEventListener("submit", async function (e) {
    e.preventDefault();

    const form = document.getElementById("signupForm");
    const formData = new FormData(form);

    const res = await fetch("/signup", {
      method: "POST",
      body: formData // ðŸ‘ˆ importante: no usar JSON.stringify
    });

    if (res.ok) {
      alert("Usuario creado con Ã©xito. Ahora inicia sesiÃ³n.");
      window.location.href = "/";
    } else {
      alert("Error al registrar usuario.");
    }
  });
</script>
